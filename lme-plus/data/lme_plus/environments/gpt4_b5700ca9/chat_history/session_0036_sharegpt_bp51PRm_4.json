{
  "session_id": "sharegpt_bp51PRm_4",
  "session_index": 36,
  "date": "2023/04/06 (Thu) 02:25",
  "turns": [
    {
      "role": "user",
      "content": "Fees must be paid to Flywire in one of two ways\n\nTwo transactions, one of principal to PayZen from user, and one of fee to Flywire\n\nOne transaction, where PayZen immediately routes monies to Flywire via ACH.\n\nWe follow a similar process for sweeping funds to different investor accounts\n\nCurrent State\n\nFuture State\n\nWe would need to route $3.95 to FW for each payment collected.\n\n \n\nBalance Adjustment Offboard\nIf FW cancels the plan due to the balance increasing beyond $30k, we must follow a different cancelation process as per our normal cancellation process.\n\nNormal Cancelation Process\n\nPlease see Cancel Plan Automation for details. TL;DR we will refund the patient if they paid PayZen more than what was owed. This will not be done via an API, our staff will manage.\n\nWe have to update the plan when this happens and send a webhook to Flywire.\n\nProvider Funded Offboard\n\nIf a plan is adjusted to be over $30k, our partners must tell us why the plan is canceled, specifically for this reason; TL;DR cancelation logic will be that we refund all funds to the provider and mark adjustments / net-settle as we typically do (we do not refund patient payments to the patient, but to the provider and simply mark down the balance)\u2014Balance Adjustment | General Rules .\n\n \n\nAsset Purchase Requirements\nSupport the ability for FW to create plans in PayZen with existing balances\n\nCreate a new endpoint for FW to onboard these servicing transfer plans\n\nFollow the process we used to board plans with Scratch (Migration endpoint w/ Peach)\n\nCreate payment plan agreements and receivables for these individuals, collate records from FW of when users agreed to their terms.\n\n:art: User interaction and design\nWe must present users a new total payment plan amount for modification purposes. We must call out that the service fee is a \u201cFlywire Fee.\u201d We can leverage the same heuristics as FW, see below. FW document this here."
    },
    {
      "role": "assistant",
      "content": "To ensure a seamless user experience, we will need to present users with a clear and easy-to-understand breakdown of their payment plan, including the service fee charged by Flywire. We can leverage the same heuristics as Flywire, which calls out the service fee as a separate line item in the payment plan breakdown.\n\nWe will also need to ensure that any modifications to the payment plan, such as adding a new bill or rolling up existing bills, are reflected accurately in the payment plan breakdown and that any changes to the service fee are clearly communicated to the user.\n\nAdditionally, we will need to ensure that our user interfaces are intuitive and easy to navigate, allowing users to quickly and easily manage their payment plans and view their payment histories. We will work closely with Flywire to ensure that our UIs are consistent with their brand and design guidelines, while also incorporating our own unique features and functionality."
    },
    {
      "role": "user",
      "content": "I just pasted product specs of a feature called Partner API V2. I pasted it in batches, so treat it as one document. Can you create test cases for me for these specs? Include also edge cases."
    },
    {
      "role": "assistant",
      "content": "Sure, here are some test cases and edge cases for the Partner API V2 feature:\n\n### Test Cases\n\n1. Verify that the \"dynamicFee\" of $3.95 is created for all payment plans for Flywire.\n* Input: A new payment plan is created for a Flywire customer\n* Expected Output: A \"dynamicFee\" of $3.95 is included in the payment plan.\n2. Verify that the service fee is displayed correctly in the PayZen user interface.\n* Input: A user logs in to PayZen and views their payment plan details\n* Expected Output: The service fee is clearly displayed as a separate line item in the payment plan breakdown.\n3. Verify that the service fee is included in the total amount paid by the user.\n* Input: A user makes a payment towards their payment plan.\n* Expected Output: The service fee is included in the total amount paid by the user.\n4. Verify that the service fee is charged appropriately for bi-weekly and semi-monthly payments.\n* Input: A user makes a bi-weekly or semi-monthly payment towards their payment plan.\n* Expected Output: The service fee is allocated appropriately for each payment made within a month.\n5. Verify that the \"Service Fee One Time Payment\" API endpoint is working properly.\n* Input: Flywire makes a request to initiate a one-time payment for the service fee.\n* Expected Output: The service fee is successfully processed and recorded in the PayZen system.\n\n### Edge Cases\n\n1. Verify that the \"dynamicFee\" is created for payment plans with a $0 principal balance.\n* Input: A user creates a payment plan with a $0 principal balance.\n* Expected Output: The \"dynamicFee\" of $3.95 is still included in the payment plan.\n2. Verify that the service fee is calculated correctly for payment plans with high principal balances.\n* Input: A user creates a payment plan with a principal balance over $30,000.\n* Expected Output: The service fee is calculated correctly and applied to the payment plan as expected.\n3. Verify that the service fee is charged appropriately for payment plans with irregular payment schedules.\n* Input: A user creates a payment plan with irregular payment schedules, such as bi-monthly or quarterly payments.\n* Expected Output: The service fee is allocated appropriately for each payment made within the designated time period.\n4. Verify that the service fee is correctly reflected in any payment plan modifications.\n* Input: A user modifies their payment plan, such as by adding a new bill or rolling up existing bills.\n* Expected Output: The service fee is accurately updated and displayed in the payment plan breakdown.\n5. Verify that refunds are processed correctly in the event of plan cancellations or overpayments.\n* Input: A user cancels their payment plan or overpays their balance.\n* Expected Output: Refunds are processed accurately and any remaining service fees are calculated and credited back to the user's account."
    }
  ]
}