{
  "session_id": "sharegpt_BYHT3Xz_0",
  "session_index": 24,
  "date": "2023/05/26 (Fri) 07:17",
  "turns": [
    {
      "role": "user",
      "content": "how do i create a custom wordpress block with a heading, paragraph, and image?"
    },
    {
      "role": "assistant",
      "content": "Creating a custom WordPress block with a heading, paragraph, and image requires some basic knowledge of HTML, CSS, and JavaScript. Here are the steps to create your custom block:\n\n1. Create a new directory in your WordPress theme or plugin, for example, `my-custom-block`.\n2. Create a new file `index.js` in the directory and add the following code:\n```javascript\nimport { registerBlockType } from '@wordpress/blocks';\nimport { RichText, MediaUpload, BlockControls, AlignmentToolbar } from '@wordpress/block-editor';\nimport { Button } from '@wordpress/components';\n\nregisterBlockType( 'my-custom-block/custom-block', {\n    title: 'Custom Block',\n    icon: 'format-image',\n    category: 'common',\n    attributes: {\n        heading: {\n            type: 'string',\n            source: 'html',\n            selector: 'h2',\n        },\n        paragraph: {\n            type: 'string',\n            source: 'html',\n            selector: 'p',\n        },\n        imageURL: {\n            type: 'string',\n            default: 'https://via.placeholder.com/150',\n        },\n        imageID: {\n            type: 'number',\n        },\n        imageAlt: {\n            type: 'string',\n        },\n        alignment: {\n            type: 'string',\n            default: 'center',\n        },\n    },\n    edit( { attributes, setAttributes } ) {\n        const { heading, paragraph, imageURL, imageID, imageAlt, alignment } = attributes;\n\n        function onSelectImage( media ) {\n            setAttributes( {\n                imageID: media.id,\n                imageURL: media.url,\n                imageAlt: media.alt,\n            } );\n        }\n\n        function onChangeHeading( value ) {\n            setAttributes( { heading: value } );\n        }\n\n        function onChangeParagraph( value ) {\n            setAttributes( { paragraph: value } );\n        }\n\n        function onChangeAlignment( newAlignment ) {\n            setAttributes( { alignment: newAlignment === undefined ? 'center' : newAlignment } );\n        }\n\n        return (\n            <div className=\"my-custom-block\">\n                <BlockControls>\n                    <AlignmentToolbar\n                        value={ alignment }\n                        onChange={ onChangeAlignment }\n                    />\n                </BlockControls>\n                <RichText\n                    tagName=\"h2\"\n                    value={ heading }\n                    onChange={ onChangeHeading }\n                    placeholder=\"Enter heading\"\n                />\n                <MediaUpload\n                    onSelect={ onSelectImage }\n                    allowedTypes={ [ 'image' ] }\n                    value={ imageID }\n                    render={ ( { open } ) => (\n                        <Button onClick={ open }>\n                            { ! imageURL ? 'Upload Image' : <img src={ imageURL } alt={ imageAlt } /> }\n                        </Button>\n                    ) }\n                />\n                <RichText\n                    tagName=\"p\"\n                    value={ paragraph }\n                    onChange={ onChangeParagraph }\n                    placeholder=\"Enter paragraph\"\n                />\n            </div>\n        );\n    },\n    save( { attributes } ) {\n        const { heading, paragraph, imageURL, imageAlt, alignment } = attributes;\n\n        return (\n            <div className={ `my-custom-block align${ alignment }` }>\n                <RichText.Content\n                    tagName=\"h2\"\n                    value={ heading }\n                />\n                <img src={ imageURL } alt={ imageAlt } />\n                <RichText.Content\n                    tagName=\"p\"\n                    value={ paragraph }\n                />\n            </div>\n        );\n    },\n} );\n```\n3. In the code above, we're importing some necessary WordPress blocks components such as `RichText`, `MediaUpload`, `BlockControls`, and `AlignmentToolbar`. We also define our block's title, icon, and category, as well as its attributes such as `heading`, `paragraph`, `imageURL`, `image"
    },
    {
      "role": "user",
      "content": "what about css?"
    },
    {
      "role": "assistant",
      "content": "To style your custom block, you can add a `style.css` file in the same directory as your `index.js` file. Here's an example of how you can style your custom block:\n```css\n.my-custom-block {\n    margin: 20px 0;\n}\n\n.my-custom-block img {\n    max-width: 100%;\n}\n\n.my-custom-block h2 {\n    font-size: 24px;\n    margin-bottom: 10px;\n}\n\n.my-custom-block p {\n    font-size: 16px;\n    line-height: 1.5;\n}\n```\nIn this example, we're using some basic CSS rules to style our custom block. We're setting a margin for the block, a max-width for the image, and some font styles for the heading and paragraph.\n\nTo include the CSS in your WordPress site, you can enqueue the stylesheet in your theme or plugin's `functions.php` file using the `wp_enqueue_style()` function. Here's an example:\n```javascript\nfunction my_custom_block_enqueue() {\n    wp_enqueue_style(\n        'my-custom-block-style',\n        plugins_url( 'my-custom-block/style.css' )\n    );\n}\nadd_action( 'enqueue_block_editor_assets', 'my_custom_block_enqueue' );\n```\nIn this example, we're using the `wp_enqueue_style()` function to enqueue the `style.css` file in our custom block directory. The `plugins_url()` function returns the URL of the plugin or theme directory. We're also hooking our function to the `enqueue_block_editor_assets` action to ensure that our styles are loaded in the block editor."
    }
  ]
}