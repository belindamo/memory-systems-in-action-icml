{
  "turn_global_index": 128,
  "session_index": 12,
  "session_id": "sharegpt_dQPyY7w_0",
  "turn_in_session": 7,
  "date": "2023/05/19 (Fri) 01:21",
  "role": "assistant",
  "content": "To add multiple hosts in a single Nginx configuration file, you can use the `server` block directive. Each `server` block can contain its own unique configuration, including a different `server_name` and `root` directory.\n\nHere is an example of a `default.conf` file that includes configurations for two hosts:\n```\nserver {\n    listen 80;\n    listen [::]:80;\n    server_name example.com www.example.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl;\n    listen [::]:443 ssl;\n    server_name example.com www.example.com;\n\n    ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;\n    include /etc/letsencrypt/options-ssl-nginx.conf;\n    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;\n\n    root /var/www/html/example.com;\n    index index.php index.html index.htm;\n\n    location / {\n        try_files $uri $uri/ /index.php$is_args$args;\n    }\n\n    location ~ \\.php$ {\n        try_files $uri =404;\n        fastcgi_pass php:9000;\n        fastcgi_index index.php;\n        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n        include fastcgi_params;\n    }\n}\n\nserver {\n    listen 80;\n    listen [::]:80;\n    server_name example2.com www.example2.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl;\n    listen [::]:443 ssl;\n    server_name example2.com www.example2.com;\n\n    ssl_certificate /etc/letsencrypt/live/example2.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/example2.com/privkey.pem;\n    include /etc/letsencrypt/options-ssl-nginx.conf;\n    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;\n\n    root /var/www/html/example2.com;\n    index index.php index.html index.htm;\n\n    location / {\n        try_files $uri $uri/ /index.php$is_args$args;\n    }\n\n    location ~ \\.php$ {\n        try_files $uri =404;\n        fastcgi_pass php:9000;\n        fastcgi_index index.php;\n        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n        include fastcgi_params;\n    }\n}\n```\nIn this example, the first `server` block listens for HTTP traffic on port 80 for the `example.com` and `www.example.com` domains, and redirects it to HTTPS. The second `server` block listens for HTTPS traffic on port 443 and serves the content for the `",
  "has_answer": false
}