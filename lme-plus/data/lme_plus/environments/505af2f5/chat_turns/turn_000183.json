{
  "turn_global_index": 183,
  "session_index": 17,
  "session_id": "sharegpt_COt6u0J_0",
  "turn_in_session": 9,
  "date": "2023/05/22 (Mon) 18:55",
  "role": "assistant",
  "content": "This example extends the previous example by adding support for user authentication and session management. It uses the Flask `session` object to store the username of the logged-in user, and uses the `url_for` function to redirect the user to the login page if they are not logged in. It also uses the Bokeh `ColumnDataSource` and `HoverTool` classes to add interactivity to the chart, and displays additional data on hover.\n\nTo run this example, you will need to save it in a file, such as `app.py`, and create two additional HTML template files: `login.html` for the login page, and `index.html` for the home page. You can use the following code for the `login.html` template:\n```\n<!DOCTYPE html>\n<html>\n  <head>\n    <title>Login</title>\n  </head>\n  <body>\n    <h1>Login</h1>\n    <form method=\"POST\">\n      <label for=\"username\">Username:</label>\n      <input type=\"text\" name=\"username\" id=\"username\"><br>\n      <label for=\"password\">Password:</label>\n      <input type=\"password\" name=\"password\" id=\"password\"><br>\n      <input type=\"submit\" value=\"Login\">\n    </form>\n  </body>\n</html>\n```\nThis template file will render a simple login form with a username and password field, and will submit the form using the `POST` method.\n\nYou can use the following code for the `index.html` template:\n```\n<!DOCTYPE html>\n<html>\n  <head>\n    <title>Stock Prices</title>\n    {{ script|safe }}\n  </head>\n  <body>\n    <h1>Stock Prices</h1>\n    <p><a href=\"{{ url_for('logout') }}\">Logout</a></p>\n    {{ div|safe }}\n  </body>\n</html>\n```\nThis template file will display the Bokeh chart and include a logout link that will redirect the user to the logout page.\n\nTo run the Flask app, you can use the `flask run` command. This will start the Flask development server and make the app available at <http://localhost:5000>. You can access the login page at <http://localhost:5000/login>, and the home page at <http://localhost:5000>. You will need to log in with the username `admin` and password `password` to access the home page and view the chart.",
  "has_answer": false
}