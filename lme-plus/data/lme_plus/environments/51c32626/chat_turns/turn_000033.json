{
  "turn_global_index": 33,
  "session_index": 3,
  "session_id": "sharegpt_qLhP2Ty_0",
  "turn_in_session": 3,
  "date": "2023/05/20 (Sat) 12:13",
  "role": "assistant",
  "content": "Certainly! Here's an example of how you can create a recurring subscription using the PayPal API and JavaScript:\n```css\n// Step 1: Create a plan\nvar plan = {\n  name: 'Monthly Subscription',\n  description: 'Monthly recurring subscription for access to premium content.',\n  type: 'INFINITE',\n  payment_definitions: [\n    {\n      name: 'Standard Plan',\n      type: 'REGULAR',\n      frequency: 'Month',\n      frequency_interval: '1',\n      amount: {\n        value: '9.99',\n        currency: 'USD'\n      },\n      cycles: '0'\n    }\n  ],\n  merchant_preferences: {\n    auto_bill_amount: 'YES',\n    cancel_url: 'https://example.com/cancel',\n    return_url: 'https://example.com/return',\n    notify_url: 'https://example.com/notify'\n  }\n};\n\n// Step 2: Create an agreement\nvar agreement = {\n  name: 'Monthly Subscription',\n  description: 'Monthly recurring subscription for access to premium content.',\n  start_date: '2023-02-13T0:0:0Z',\n  plan: {\n    id: plan.id\n  },\n  payer: {\n    payment_method: 'paypal'\n  }\n};\n\npaypal.billingAgreement.create(agreement, function (error, agreement) {\n  if (error) {\n    console.error(error);\n    return;\n  }\n\n  // Step 3: Redirect the payer\n  window.location.href = agreement.links[1].href;\n});\n```\nNote that you need to include the PayPal JavaScript SDK in your HTML file and configure it with your client ID:\n```php\n<script src=\"https://www.paypal.com/sdk/js?client-id=YOUR_CLIENT_ID\"></script>\n```",
  "has_answer": false
}