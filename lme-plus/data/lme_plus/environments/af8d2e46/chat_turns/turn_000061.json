{
  "turn_global_index": 61,
  "session_index": 6,
  "session_id": "sharegpt_8lprfdF_0",
  "turn_in_session": 7,
  "date": "2023/05/21 (Sun) 09:54",
  "role": "assistant",
  "content": "To link the data in `NavFavourites` component with Google Places navigation, you need to use the `useDispatch` hook from `react-redux` to dispatch the `setDestination` action creator when a favourite location is pressed.\n\nTo do this, you can modify the `TouchableOpacity` component to dispatch the `setDestination` action when it is pressed, passing the destination location as an argument to the action creator. Here's an example of how you can modify the `TouchableOpacity` component:\n```scss\n<TouchableOpacity\n  style={tw`flex-row items-center p-5`}\n  onPress={() => {\n    dispatch(setDestination(destination));\n    navigation.navigate('RideOptionsCard');\n  }}\n>\n```\nIn this example, `dispatch` is a function returned by the `useDispatch` hook, and `navigation` is a reference to the navigation object provided by the `useNavigation` hook.\n\nWhen the user presses a favourite location, the `setDestination` action is dispatched with the destination as an argument, and the app navigates to the `RideOptionsCard` screen.\n\nTo get the destination value for each favourite location, you can modify the `data` array to include the latitude and longitude coordinates of the destination, and pass them as props to the `GooglePlacesAutocomplete` component. You can then extract the destination value from the selected result in the `GooglePlacesAutocomplete` component and use it as the argument for the `setDestination` action creator.\n\nHere's an example of how you can modify the `GooglePlacesAutocomplete` component to include the destination coordinates:\n```php\n<GooglePlacesAutocomplete\n  placeholder=\"Where to?\"\n  fetchDetails={true}\n  enablePoweredByContainer={false}\n  minLength={2}\n  returnKeyType={\"search\"}\n  styles={toInputBoxStyles}\n  query={{\n    key: GOOGLE_MAPS_APIKEY,\n    language: 'en',\n  }}\n  onPress={(data, details = null) => {\n    dispatch(\n      setDestination({\n        location: details.geometry.location,\n        description: data.description,\n      })\n    );\n    navigation.navigate('RideOptionsCard');\n  }}\n/>\n```\nIn this example, the `setDestination` action creator is dispatched with an object that includes the location (i.e., the latitude and longitude coordinates of the destination) and the description (i.e., the user-friendly name of the destination).\n\nNote that you need to set up the `GooglePlacesAutocomplete` component to use the `GOOGLE_MAPS_APIKEY` environment variable, which you can get from the `.env` file in your project. You can import the `GOOGLE_MAPS_APIKEY` variable like this:\n```python\nimport {GOOGLE_MAPS_APIKEY} from \"@env\";\n```\nFinally, you need to make sure that the `RideOptionsCard` screen is set up to receive the destination value and use it to display the ride options. You can do this by using the `useSelector` hook from `react-redux` to get the destination value from the Redux store, and pass it as a prop to the `RideOptionsCard` component.",
  "has_answer": false
}