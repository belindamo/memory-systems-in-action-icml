{
  "turn_global_index": 378,
  "session_index": 39,
  "session_id": "sharegpt_BPhweN9_0",
  "turn_in_session": 0,
  "date": "2023/10/15 (Sun) 06:50",
  "role": "user",
  "content": "This is the topic of our converation:\n### Configuring the dispatcher service to run AMQP with TLS\n\nTo enable TLS communication to connecting clients the following parameters\nmust be configured in the `dispatcher.conf` file:\n\n```conf\ntls\\_verify\\_mode=\ntls\\_cert=\ntls\\_key=\ntls\\_status\\_cert=\ntls\\_status\\_key=\n```\n\n- tls\\_verify\\_mode describes the level of verification done on clients:\n - disable: Disable TLS\n - anonymous: Enable TLS but do not verify peer certificate.\n - verify: Require peer to provide a valid certificate.\n - verify\\_name: Require peer to provide a valid certificate with matching host name.\n- tls\\_cert: File path to the certificate that the dispatcher service uses for TLS.\n- tls\\_key: File path to the key that the dispatcher service uses for TLS.\n- tls\\_status\\_cert: File path to the certificate that the dispatcher status wrappers uses for TLS.\n- tls\\_status\\_key: File path to the key that the dispatcher status wrappers uses for TLS.\n\nThe administrator can also set file path to the CA certificate if one wishes to not use the default\nlocation which is `/etc/ssl/certs/ca-bundle.crt`. To do this, set the following configuration parameters\nin the `dispatcher.conf` file:\n\n```conf\ntls\\_ca=\ntls\\_status\\_ca=\n```\n\nImportant to note here is that the files set in `tls\\_status\\_ca`, `tls\\_status\\_cert` and `tls\\_status\\_key`,\nwill be accessed by the status wrappers running on the cluster nodes, not from the computer running the\ndispatcher service. These parameters can contain substrings in the form `${ENV\\_VARIABLE}` that will\nbe expanded using environment variables on the cluster node. For example, to use a key which contains\nthe name of the host the status wrapper is running on the following parameter can be used:\n\n```conf\ntls\\_status\\_key=/keys/key\\_${HOSTNAME}.pem\n```\n\nClients connecting to a TLS-enabled dispatcher service with the CLI must use `amqps` instead of `amqp` in the URL.",
  "has_answer": false
}