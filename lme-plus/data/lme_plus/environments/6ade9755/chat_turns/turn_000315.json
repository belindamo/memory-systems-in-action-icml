{
  "turn_global_index": 315,
  "session_index": 30,
  "session_id": "sharegpt_SaUokxc_63",
  "turn_in_session": 0,
  "date": "2023/05/25 (Thu) 03:35",
  "role": "assistant",
  "content": "Sure, here's an example of how you could modify the `ManageAPIAccessPage` component to include a big toggle that defines if the sync is on or off:\n```jsx\nimport React, { useState, useEffect } from 'react';\nimport { getSquareIntegrationForBrand, updateSquareIntegration } from './api';\n\nfunction ManageAPIAccessPage() {\n  const [integration, setIntegration] = useState(null);\n  const [squareApplicationId, setSquareApplicationId] = useState('');\n  const [squareAccessToken, setSquareAccessToken] = useState('');\n  const [syncEnabled, setSyncEnabled] = useState(false);\n\n  useEffect(() => {\n    async function fetchData() {\n      const integrationData = await getSquareIntegrationForBrand();\n      setIntegration(integrationData);\n      setSyncEnabled(integrationData && integrationData.syncEnabled);\n    }\n    fetchData();\n  }, []);\n\n  async function handleToggleSync() {\n    const result = await updateSquareIntegration(integration._id, squareApplicationId, squareAccessToken, !syncEnabled);\n    if (result.success) {\n      setSyncEnabled(!syncEnabled);\n    } else {\n      console.error(`Failed to update Square integration: ${result.message}`);\n    }\n  }\n\n  async function handleSaveIntegration() {\n    const result = await updateSquareIntegration(integration._id, squareApplicationId, squareAccessToken, syncEnabled);\n    if (result.success) {\n      setIntegration(prevIntegration => ({ ...prevIntegration, applicationId: squareApplicationId, accessToken: squareAccessToken }));\n    } else {\n      console.error(`Failed to update Square integration: ${result.message}`);\n    }\n  }\n\n  return (\n    <div>\n      <h1>Manage API Access</h1>\n      {integration ? (\n        <div>\n          <h2>Square POS Integration</h2>\n          <div>\n            <label>\n              Application ID:\n              <input type=\"text\" value={squareApplicationId} onChange={e => setSquareApplicationId(e.target.value)} />\n            </label>\n          </div>\n          <div>\n            <label>\n              Access Token:\n              <input type=\"text\" value={squareAccessToken} onChange={e => setSquareAccessToken(e.target.value)} />\n            </label>\n          </div>\n          <div>\n            <label>\n              Sync Enabled:\n              <input type=\"checkbox\" checked={syncEnabled} onChange={handleToggleSync} />\n            </label>\n          </div>\n          <div>\n            <button onClick={handleSaveIntegration}>Save Changes</button>\n          </div>\n        </div>\n      ) : (\n        <div>\n          <h2>Add Square POS Integration</h2>\n          <div>\n            <label>\n              Application ID:\n              <input type=\"text\" value={squareApplicationId} onChange={e => setSquareApplicationId(e.target.value)} />\n            </label>\n          </div>\n          <div>\n            <label>\n              Access Token:\n              <input type=\"text\" value={squareAccessToken} onChange={e => setSquareAccessToken(e.target.value)} />\n            </label>\n          </div>\n          <div>\n            <button onClick={handleCreateIntegration}>Create Integration</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default ManageAPIAccessPage;\n```\nIn this modified `ManageAPIAccessPage` component, a big toggle is added to the Square POS integration section that allows the bar manager to enable or disable sync. When the user toggles the sync checkbox, the `handleToggleSync` function calls the `updateSquareIntegration` API endpoint to update the syncEnabled property of the Square integration. The checkbox is checked if syncEnabled is true, and unchecked if syncEnabled is false.\n\nBy adding",
  "has_answer": false
}