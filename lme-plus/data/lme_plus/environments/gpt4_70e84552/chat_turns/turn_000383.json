{
  "turn_global_index": 383,
  "session_index": 37,
  "session_id": "01f61248_1",
  "turn_in_session": 5,
  "date": "2023/05/25 (Thu) 06:19",
  "role": "assistant",
  "content": "Tracking e-commerce events is a crucial aspect of Google Tag Manager (GTM) implementation. Here's a step-by-step guide on how to track e-commerce events using GTM:\n\n**Tracking Purchases (Transactions)**\n\n1. **Data Layer**: In your website's HTML, create a data layer object that captures transaction details, such as:\n```javascript\ndataLayer = [\n  {\n    'transactionId': '123456',\n    'transactionTotal': 100.00,\n    'transactionCurrency': 'USD',\n    'transactionProducts': [\n      {\n        'sku': 'product-1',\n        'name': 'Product 1',\n        'price': 50.00,\n        'quantity': 2\n      },\n      {\n        'sku': 'product-2',\n        'name': 'Product 2',\n        'price': 30.00,\n        'quantity': 1\n      }\n    ]\n  }\n];\n```\n2. **Trigger**: Create a trigger in GTM to capture the transaction event:\n\t* Go to Triggers > New > Custom Event.\n\t* Set up the trigger to fire on the `transaction` event.\n\t* In the trigger settings, add a condition to check if `transactionId` exists in the data layer.\n3. **Tag**: Create a tag in GTM to send the transaction data to Google Analytics:\n\t* Go to Tags > New > Google Analytics.\n\t* Select the Google Analytics tracking ID (UA-XXXXX-X).\n\t* Set up the tag to fire on the `transaction` trigger.\n\t* In the tag settings, select `Ecommerce` as the track type.\n\t* Map the data layer variables to the corresponding Google Analytics fields:\n\t\t+ `transactionId` to `Transaction ID`\n\t\t+ `transactionTotal` to `Transaction Revenue`\n\t\t+ `transactionCurrency` to `Currency`\n\t\t+ `transactionProducts` to `Products` (use the `foreach` function to loop through the products array)\n\n**Tracking Product Views**\n\n1. **Data Layer**: Create a data layer object that captures product view details, such as:\n```javascript\ndataLayer = [\n  {\n    'productView': {\n      'sku': 'product-1',\n      'name': 'Product 1',\n      'category': 'Category 1',\n      'price': 50.00\n    }\n  }\n];\n```\n2. **Trigger**: Create a trigger in GTM to capture the product view event:\n\t* Go to Triggers > New > Custom Event.\n\t* Set up the trigger to fire on the `productView` event.\n\t* In the trigger settings, add a condition to check if `productView` exists in the data layer.\n3. **Tag**: Create a tag in GTM to send the product view data to Google Analytics:\n\t* Go to Tags > New > Google Analytics.\n\t* Select the Google Analytics tracking ID (UA-XXXXX-X).\n\t* Set up the tag to fire on the `productView` trigger.\n\t* In the tag settings, select `Event` as the track type.\n\t* Map the data layer variables to the corresponding Google Analytics fields:\n\t\t+ `productView.sku` to `Event Label`\n\t\t+ `productView.name` to `Event Action`\n\t\t+ `productView.category` to `Event Category`\n\n**Tracking Add-to-Cart Events**\n\n1. **Data Layer**: Create a data layer object that captures add-to-cart details, such as:\n```javascript\ndataLayer = [\n  {\n    'addToCart': {\n      'sku': 'product-1',\n      'name': 'Product 1',\n      'price': 50.00,\n      'quantity': 1\n    }\n  }\n];\n```\n2. **Trigger**: Create a trigger in GTM to capture the add-to-cart",
  "has_answer": false
}