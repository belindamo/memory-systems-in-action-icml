{
  "turn_global_index": 188,
  "session_index": 15,
  "session_id": "sharegpt_0V1N7Qc_0",
  "turn_in_session": 1,
  "date": "2023/02/26 (Sun) 10:31",
  "role": "assistant",
  "content": "Optimized Code:\n```\np1 = system.tag.read(\"[System]Gateway/CurrentDateTime\").value\np2 = system.tag.read(\"[.]Machine Name\").value\np3 = system.tag.read(\"[.]Stage\").value\np4 = system.tag.read(\"[.]Shift\").value\np5 = system.tag.read(\"[.]MIS_Running_Recipe\").value\n\n##SEQ_Name\nseq_name = []\nfor i in range(1, 15):\n    seq_name.append(system.tag.read(\"[.]../step_sequence_name/step\" + str(i)).value)\n\n##SEQ_Code\nseq_code = []\nfor i in range(1, 15):\n    seq_code.append(system.tag.read(\"[.]../step_sequence_number/step\" + str(i)).value)\n\n##SEQ_Time\nseq_time = []\nfor i in range(1, 15):\n    seq_time.append(system.tag.read(\"[.]../step_sequence_value/step\" + str(i)).value)\n\nparams = [p1, p2, p3, p4, p5] + seq_name + seq_code + seq_time\n\nfor i in range(14):\n    if seq_time[i] != 0:\n        system.db.runNamedQuery(\"Insert_Data\", params)\n```\nExplanation:\n\n* Instead of having separate variables for each step in the sequence, we can use lists to store the values for each sequence (name, code, and time)\n* We can use a for loop to iterate through the steps and append the values to the corresponding list\n* We can then concatenate the lists with the other parameters (p1-p5) to create the final list of params for the named query\n* We can also remove the final if condition and checking with the values of p8, as the for loop only runs the named query if the seq\\_time value is not equal to 0\n* This greatly reduces the amount of code and eliminates the need to run the named query multiple times",
  "has_answer": false
}