{
  "turn_global_index": 481,
  "session_index": 46,
  "session_id": "sharegpt_g3zTLfd_19",
  "turn_in_session": 6,
  "date": "2023/07/13 (Thu) 10:05",
  "role": "assistant",
  "content": "Sure, we can try that approach. Here's an updated `visualize` function that saves the figures as PNG files and then displays them in a `Canvas` widget in the Tkinter window:\n```python\ndef visualize(window, graph_type_var, default):\n    canvas = tk.Canvas(window)\n    canvas.pack(side=\"left\", fill=\"both\", expand=True)\n\n    fig_width, fig_height = canvas.winfo_width(), canvas.winfo_height()\n\n    def update_graph(*args):\n        graph_type = graph_type_var.get()\n        if graph_type == \"pairplot\":\n            pair_grid = sns.pairplot(df, hue='Dataset', kind='reg')\n            pair_grid.savefig(\"pairplot.png\")\n            img = Image.open(\"pairplot.png\")\n            img = img.resize((fig_width, fig_height), Image.ANTIALIAS)\n            img_tk = ImageTk.PhotoImage(img)\n            canvas.delete(\"all\")\n            canvas.create_image(0, 0, image=img_tk, anchor=\"nw\")\n            canvas.img_tk = img_tk\n        elif graph_type == \"histogram\":\n            fig, ax = plt.subplots()\n            sns.histplot(data=df, x=\"Age\", hue=\"Dataset\", kde=True, ax=ax)\n            fig.savefig(\"histogram.png\")\n            img = Image.open(\"histogram.png\")\n            img = img.resize((fig_width, fig_height), Image.ANTIALIAS)\n            img_tk = ImageTk.PhotoImage(img)\n            canvas.delete(\"all\")\n            canvas.create_image(0, 0, image=img_tk, anchor=\"nw\")\n            canvas.img_tk = img_tk\n        elif graph_type == \"boxplot\":\n            fig, ax = plt.subplots()\n            sns.boxplot(data=df, x=\"Dataset\", y=\"Total_Bilirubin\", ax=ax)\n            fig.savefig(\"boxplot.png\")\n            img = Image.open(\"boxplot.png\")\n            img = img.resize((fig_width, fig_height), Image.ANTIALIAS)\n            img_tk = ImageTk.PhotoImage(img)\n            canvas.delete(\"all\")\n            canvas.create_image(0, 0, image=img_tk, anchor=\"nw\")\n            canvas.img_tk = img_tk\n\n    graph_type_var.trace('w', update_graph)\n```\nThis function saves the figures as PNG files, resizes them to fit the dimensions of the `Canvas` widget, and then displays them in the `Canvas` widget using `create_image`. The images are stored as attributes of the `Canvas` widget so that they aren't garbage collected by Python.",
  "has_answer": false
}