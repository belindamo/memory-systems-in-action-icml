{
  "turn_global_index": 146,
  "session_index": 15,
  "session_id": "sharegpt_c2LF3xK_12",
  "turn_in_session": 7,
  "date": "2022/09/01 (Thu) 09:32",
  "role": "assistant",
  "content": "Sorry about that, here is the complete SQL code to create the necessary tables and populate them with sample data:\n```sql\nCREATE TABLE Restaurant (\n  restaurant_id INT PRIMARY KEY,\n  name VARCHAR(255),\n  location VARCHAR(255),\n  contact_details VARCHAR(255),\n  branch_id INT\n);\n\nCREATE TABLE Queue (\n  queue_id INT PRIMARY KEY,\n  restaurant_id INT,\n  status VARCHAR(255),\n  expected_waiting_time INT,\n  period_id INT,\n  FOREIGN KEY (restaurant_id) REFERENCES Restaurant(restaurant_id),\n  FOREIGN KEY (period_id) REFERENCES Period(period_id)\n);\n\nCREATE TABLE Customer (\n  customer_id INT PRIMARY KEY,\n  queue_id INT,\n  name VARCHAR(255),\n  contact_details VARCHAR(255),\n  time_joined DATETIME,\n  FOREIGN KEY (queue_id) REFERENCES Queue(queue_id)\n);\n\nCREATE TABLE Table (\n  table_id INT PRIMARY KEY,\n  restaurant_id INT,\n  table_number INT,\n  seats INT,\n  status VARCHAR(255),\n  FOREIGN KEY (restaurant_id) REFERENCES Restaurant(restaurant_id)\n);\n\nCREATE TABLE Branch (\n  branch_id INT PRIMARY KEY,\n  name VARCHAR(255),\n  location VARCHAR(255),\n  contact_details VARCHAR(255),\n  FOREIGN KEY (restaurant_id) REFERENCES Restaurant(restaurant_id)\n);\n\nCREATE TABLE Period (\n  period_id INT PRIMARY KEY,\n  start_time DATETIME,\n  end_time DATETIME,\n  wait_time_in_minutes INT\n);\n\nCREATE TABLE queue_table (\n  queue_id INT,\n  table_id INT,\n  PRIMARY KEY (queue_id, table_id),\n  FOREIGN KEY (queue_id) REFERENCES Queue(queue_id),\n  FOREIGN KEY (table_id) REFERENCES Table(table_id)\n);\n\nINSERT INTO Restaurant (restaurant_id, name, location, contact_details, branch_id)\nVALUES (1, 'Joe\\'s Diner', 'New York City', '(555) 123-4567', 1),\n       (2, 'Bella Italia', 'Rome, Italy', '+39 06 1234567', 2),\n       (3, 'Sushi House', 'Tokyo, Japan', '+81 3-1234-5678', 3),\n       (4, 'La Taqueria', 'Mexico City, MX', '+52 55 1234 5678', 4);\n\nINSERT INTO Queue (queue_id, restaurant_id, status, expected_waiting_time, period_id)\nVALUES (1, 1, 'open', 20, 1),\n       (2, 2, 'open', 30, 2),\n       (3, 3, 'closed', 0, 3),\n       (4, 4, 'open', 15, 4);\n\nINSERT INTO Customer (customer_id, queue_id, name, contact_details, time_joined)\nVALUES (1, 1, 'John Doe', '(555) 555-5555', '2023-03-01 17:00:00'),\n       (2, 1, 'Jane Doe', '(555) 555-1234', '2023-03-01 17:02:00'),\n       (3, 2, 'Mario Rossi', '+39 06 1234567', '2023-03-01 18:00:00'),\n       (4, 4, 'Sarah Smith', '+52 55 1234 5678', '2023-03-01 19:00:00');\n\nINSERT INTO Table (table_id, restaurant_id, table_number, seats, status)\nVALUES (1, 1, 1, 4, 'available'),\n       (2, 1, 2, 2, 'available'),\n       (3, 2, 1\n```",
  "has_answer": false
}